name: Cleanup Workflow Runs

on:
   workflow_dispatch:
#  schedule:
#     - cron: '0 0 * * *'  # 每天运行

jobs:
  cleanup:
    runs-on: ubuntu-latest
#    permissions:
#      actions: write  # 关键权限
#      contents: read
    steps:
      - name: Delete old runs
        uses: Mattraks/delete-workflow-runs@v2
        with:
#          token: ${{ secrets.REPO_TOKEN }}
          token: ${{ secrets.GITHUB_TOKEN }}
          repository: ${{ github.repository }} #工作流程运行所在的存储库的名称
          retain_days: 0 #用于与每个工作流的保留天数进行比较的天数
          keep_minimum_runs: 0 #每个工作流程要保留的最小运行数



